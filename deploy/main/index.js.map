"{\"version\":3,\"sources\":[\"/webpack/bootstrap\",\"../external \\\"os\\\"\",\"../external \\\"child_process\\\"\",\"../src/utils/spawn.ts\",\"../src/actions/prepare/prepareRemoteServer.ts\",\"../src/actions/deploy/main.ts\",\"../node_modules/@actions/core/lib/command.js\",\"../node_modules/@actions/core/lib/core.js\",\"../external \\\"path\\\"\",\"../external \\\"util\\\"\",\"../src/utils/readAvenConfig.ts\",\"../external \\\"fs\\\"\",\"../src/utils/Files.ts\",\"../src/utils/isGitHubAction.ts\",\"../src/utils/reportError.ts\",\"../src/utils/inputs.ts\",\"/webpack/runtime/node module decorator\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"ab\",\"__dirname\",\"startup\",\"runtime\",\"require\",\"Object\",\"defineProperty\",\"value\",\"child_process_1\",\"util_1\",\"defaultShell\",\"spawn\",\"command\",\"first\",\"args\",\"defOpts\",\"stdio\",\"proc\",\"assign\",\"shell\",\"ret\",\"Promise\",\"resolve\",\"reject\",\"on\",\"exitCode\",\"Error\",\"child\",\"execP\",\"promisify\",\"exec\",\"__awaiter\",\"this\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"adopt\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"apply\",\"spawn_1\",\"prepareRemoteServer\",\"inputs_1\",\"prepareRemoteServer_1\",\"reportError_1\",\"fs_1\",\"readAvenConfig_1\",\"Files_1\",\"mkdir\",\"promises\",\"setupShhConfig\",\"process\",\"env\",\"HOME\",\"recursive\",\"files\",\"deployKey\",\"input\",\"identityFile\",\"push\",\"ensureFileIs\",\"host\",\"readAvenConfig\",\"domains\",\"hostKeys\",\"stdout\",\"console\",\"log\",\"ensureFileContains\",\"config\",\"all\",\"copySources\",\"_a\",\"dir\",\"serviceName\",\"restartApplication\",\"main\",\"parent\",\"catch\",\"reportError\",\"__importStar\",\"mod\",\"__esModule\",\"k\",\"hasOwnProperty\",\"os\",\"issueCommand\",\"properties\",\"message\",\"cmd\",\"Command\",\"write\",\"toString\",\"EOL\",\"issue\",\"name\",\"CMD_STRING\",\"[object Object]\",\"cmdStr\",\"keys\",\"length\",\"key\",\"val\",\"escapeProperty\",\"escapeData\",\"s\",\"replace\",\"command_1\",\"path\",\"ExitCode\",\"exportVariable\",\"setSecret\",\"secret\",\"addPath\",\"inputPath\",\"delimiter\",\"getInput\",\"options\",\"toUpperCase\",\"required\",\"trim\",\"setOutput\",\"setFailed\",\"Failure\",\"error\",\"debug\",\"warning\",\"info\",\"startGroup\",\"endGroup\",\"group\",\"fn\",\"saveState\",\"getState\",\"readFile\",\"undefined\",\"contents\",\"JSON\",\"parse\",\"Array\",\"isArray\",\"writeFile\",\"symlink\",\"readlink\",\"unlink\",\"filename\",\"current\",\"includes\",\"mode\",\"ensureFilesAre\",\"list\",\"map\",\"ensureLinkIs\",\"target\",\"code\",\"isGitHubAction\",\"GITHUB_ACTIONS\",\"core_1\",\"isGitHubAction_1\",\"nmd\",\"paths\",\"children\",\"enumerable\",\"get\"],\"mappings\":\"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\",\"file\":\"index.js\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t__webpack_require__.ab = __dirname + \\\"/\\\";\\n\\n \\t// the startup function\\n \\tfunction startup() {\\n \\t\\t// Load entry module and return exports\\n \\t\\treturn __webpack_require__(403);\\n \\t};\\n \\t// initialize runtime\\n \\truntime(__webpack_require__);\\n\\n \\t// run startup\\n \\treturn startup();\\n\",\"module.exports = require(\\\"os\\\");\",\"module.exports = require(\\\"child_process\\\");\",\"\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst child_process_1 = require(\\\"child_process\\\");\\nconst util_1 = require(\\\"util\\\");\\nconst defaultShell = '/bin/bash';\\nfunction spawn(command, first, ...args) {\\n    // console.log('Spawning:', command, ...args);\\n    const defOpts = { stdio: 'inherit' };\\n    const proc = typeof first === 'string'\\n        ? child_process_1.spawn(command, [first, ...args], defOpts)\\n        : child_process_1.spawn(command, args, first === true\\n            ? Object.assign(Object.assign({}, defOpts), { shell: defaultShell }) : Object.assign(Object.assign({}, defOpts), first));\\n    const ret = new Promise((resolve, reject) => {\\n        proc.on('exit', exitCode => {\\n            if (exitCode) {\\n                reject(new Error(`Exit code: ${exitCode}`));\\n            }\\n            else {\\n                resolve();\\n            }\\n        });\\n    });\\n    ret.child = proc;\\n    return ret;\\n}\\nexports.spawn = spawn;\\nconst execP = util_1.promisify(child_process_1.exec);\\n/**\\n * Run a command and capture output.\\n *\\n * Prints nothing.\\n *\\n * - Shell\\n * - Captured & Buffered output\\n * - Promised result.\\n *\\n * @param {string} command - The command to run.\\n * @param {true|string} shell - Should we use a shell. Default true.\\n * @returns {ChildProcess} The child.\\n */\\nfunction exec(command, shell = true) {\\n    if (shell === null) {\\n        return execP(command);\\n    }\\n    if (shell === true)\\n        shell = defaultShell;\\n    return execP(command, { shell });\\n}\\nexports.exec = exec;\\n\",\"\\\"use strict\\\";\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst spawn_1 = require(\\\"../../utils/spawn\\\");\\nfunction prepareRemoteServer() {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        yield spawn_1.spawn('rsync', '--compress', '--links', '--executability', \\n        // Build script puts a `remote` folder next to action.yml in dist\\n        `${__dirname}/../remote/`, 'aven.json', \\n        // TODO ...\\n        // 'secrets.json',\\n        // Deploy to home dir\\n        'runtime-server:');\\n        yield spawn_1.spawn('ssh', 'runtime-server', 'bash', 'setup.sh');\\n    });\\n}\\nexports.prepareRemoteServer = prepareRemoteServer;\\n\",\"\\\"use strict\\\";\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst inputs_1 = require(\\\"../../utils/inputs\\\");\\nconst prepareRemoteServer_1 = require(\\\"../prepare/prepareRemoteServer\\\");\\nconst reportError_1 = require(\\\"../../utils/reportError\\\");\\nconst spawn_1 = require(\\\"../../utils/spawn\\\");\\nconst fs_1 = require(\\\"fs\\\");\\nconst readAvenConfig_1 = require(\\\"../../utils/readAvenConfig\\\");\\nconst Files_1 = require(\\\"../../utils/Files\\\");\\nconst { mkdir } = fs_1.promises;\\nfunction setupShhConfig() {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        yield mkdir(`${process.env.HOME}/.ssh`, { recursive: true });\\n        const files = [];\\n        const deployKey = yield inputs_1.input('deploy-key');\\n        const identityFile = `${process.env.HOME}/.ssh/id_rsa`;\\n        files.push(Files_1.ensureFileIs(identityFile, deployKey, 0o600));\\n        const host = (yield readAvenConfig_1.readAvenConfig()).domains[0];\\n        // cSpell:ignore keyscan\\n        const hostKeys = (yield spawn_1.exec(`ssh-keyscan ${host}`)).stdout;\\n        console.log('Using host keys:');\\n        console.log(hostKeys);\\n        files.push(Files_1.ensureFileContains(`${process.env.HOME}/.ssh/known_hosts`, hostKeys));\\n        const config = `\\nHost runtime-server\\n  HostName ${host}\\n  Port 22\\n  User root\\n  CheckHostIP no\\n`;\\n        files.push(Files_1.ensureFileIs(`${process.env.HOME}/.ssh/config`, config));\\n        yield Promise.all(files);\\n    });\\n}\\n// cSpell:ignore rsync executability\\nfunction copySources() {\\n    var _a;\\n    return __awaiter(this, void 0, void 0, function* () {\\n        const dir = yield inputs_1.input('deploy-directory');\\n        const config = yield readAvenConfig_1.readAvenConfig();\\n        const serviceName = (_a = config.serviceName, (_a !== null && _a !== void 0 ? _a : config.domains[0]));\\n        yield spawn_1.spawn('rsync', '--recursive', '--links', '--delete', '--executability', dir, `runtime-server:/opt/${serviceName}`);\\n    });\\n}\\nfunction restartApplication() {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        console.log('restart');\\n        // TODO: ssh runtime-server systemctl stop serviceName\\n        // TODO: migrate db\\n        /*\\n              - name: Test if server needs a restart\\n              id: reboot\\n              shell: bash {0}\\n              run: |\\n                ssh runtime-server \\\\[ -e /var/run/reboot-required \\\\]\\n                echo \\\"::set-output name=required::$?\\\"\\n        */\\n        // TODO: Restart one way or the other\\n    });\\n}\\nfunction main() {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        yield setupShhConfig();\\n        // TODO: Secrets\\n        yield prepareRemoteServer_1.prepareRemoteServer();\\n        yield copySources();\\n        yield restartApplication();\\n    });\\n}\\nexports.main = main;\\nif (!module.parent)\\n    main().catch(reportError_1.reportError);\\n\",\"\\\"use strict\\\";\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\\n    result[\\\"default\\\"] = mod;\\n    return result;\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst os = __importStar(require(\\\"os\\\"));\\n/**\\n * Commands\\n *\\n * Command Format:\\n *   ::name key=value,key=value::message\\n *\\n * Examples:\\n *   ::warning::This is the message\\n *   ::set-env name=MY_VAR::some value\\n */\\nfunction issueCommand(command, properties, message) {\\n    const cmd = new Command(command, properties, message);\\n    process.stdout.write(cmd.toString() + os.EOL);\\n}\\nexports.issueCommand = issueCommand;\\nfunction issue(name, message = '') {\\n    issueCommand(name, {}, message);\\n}\\nexports.issue = issue;\\nconst CMD_STRING = '::';\\nclass Command {\\n    constructor(command, properties, message) {\\n        if (!command) {\\n            command = 'missing.command';\\n        }\\n        this.command = command;\\n        this.properties = properties;\\n        this.message = message;\\n    }\\n    toString() {\\n        let cmdStr = CMD_STRING + this.command;\\n        if (this.properties && Object.keys(this.properties).length > 0) {\\n            cmdStr += ' ';\\n            let first = true;\\n            for (const key in this.properties) {\\n                if (this.properties.hasOwnProperty(key)) {\\n                    const val = this.properties[key];\\n                    if (val) {\\n                        if (first) {\\n                            first = false;\\n                        }\\n                        else {\\n                            cmdStr += ',';\\n                        }\\n                        cmdStr += `${key}=${escapeProperty(val)}`;\\n                    }\\n                }\\n            }\\n        }\\n        cmdStr += `${CMD_STRING}${escapeData(this.message)}`;\\n        return cmdStr;\\n    }\\n}\\nfunction escapeData(s) {\\n    return (s || '')\\n        .replace(/%/g, '%25')\\n        .replace(/\\\\r/g, '%0D')\\n        .replace(/\\\\n/g, '%0A');\\n}\\nfunction escapeProperty(s) {\\n    return (s || '')\\n        .replace(/%/g, '%25')\\n        .replace(/\\\\r/g, '%0D')\\n        .replace(/\\\\n/g, '%0A')\\n        .replace(/:/g, '%3A')\\n        .replace(/,/g, '%2C');\\n}\\n//# sourceMappingURL=command.js.map\",\"\\\"use strict\\\";\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\\n    result[\\\"default\\\"] = mod;\\n    return result;\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst command_1 = require(\\\"./command\\\");\\nconst os = __importStar(require(\\\"os\\\"));\\nconst path = __importStar(require(\\\"path\\\"));\\n/**\\n * The code to exit an action\\n */\\nvar ExitCode;\\n(function (ExitCode) {\\n    /**\\n     * A code indicating that the action was successful\\n     */\\n    ExitCode[ExitCode[\\\"Success\\\"] = 0] = \\\"Success\\\";\\n    /**\\n     * A code indicating that the action was a failure\\n     */\\n    ExitCode[ExitCode[\\\"Failure\\\"] = 1] = \\\"Failure\\\";\\n})(ExitCode = exports.ExitCode || (exports.ExitCode = {}));\\n//-----------------------------------------------------------------------\\n// Variables\\n//-----------------------------------------------------------------------\\n/**\\n * Sets env variable for this action and future actions in the job\\n * @param name the name of the variable to set\\n * @param val the value of the variable\\n */\\nfunction exportVariable(name, val) {\\n    process.env[name] = val;\\n    command_1.issueCommand('set-env', { name }, val);\\n}\\nexports.exportVariable = exportVariable;\\n/**\\n * Registers a secret which will get masked from logs\\n * @param secret value of the secret\\n */\\nfunction setSecret(secret) {\\n    command_1.issueCommand('add-mask', {}, secret);\\n}\\nexports.setSecret = setSecret;\\n/**\\n * Prepends inputPath to the PATH (for this action and future actions)\\n * @param inputPath\\n */\\nfunction addPath(inputPath) {\\n    command_1.issueCommand('add-path', {}, inputPath);\\n    process.env['PATH'] = `${inputPath}${path.delimiter}${process.env['PATH']}`;\\n}\\nexports.addPath = addPath;\\n/**\\n * Gets the value of an input.  The value is also trimmed.\\n *\\n * @param     name     name of the input to get\\n * @param     options  optional. See InputOptions.\\n * @returns   string\\n */\\nfunction getInput(name, options) {\\n    const val = process.env[`INPUT_${name.replace(/ /g, '_').toUpperCase()}`] || '';\\n    if (options && options.required && !val) {\\n        throw new Error(`Input required and not supplied: ${name}`);\\n    }\\n    return val.trim();\\n}\\nexports.getInput = getInput;\\n/**\\n * Sets the value of an output.\\n *\\n * @param     name     name of the output to set\\n * @param     value    value to store\\n */\\nfunction setOutput(name, value) {\\n    command_1.issueCommand('set-output', { name }, value);\\n}\\nexports.setOutput = setOutput;\\n//-----------------------------------------------------------------------\\n// Results\\n//-----------------------------------------------------------------------\\n/**\\n * Sets the action status to failed.\\n * When the action exits it will be with an exit code of 1\\n * @param message add error issue message\\n */\\nfunction setFailed(message) {\\n    process.exitCode = ExitCode.Failure;\\n    error(message);\\n}\\nexports.setFailed = setFailed;\\n//-----------------------------------------------------------------------\\n// Logging Commands\\n//-----------------------------------------------------------------------\\n/**\\n * Writes debug message to user log\\n * @param message debug message\\n */\\nfunction debug(message) {\\n    command_1.issueCommand('debug', {}, message);\\n}\\nexports.debug = debug;\\n/**\\n * Adds an error issue\\n * @param message error issue message\\n */\\nfunction error(message) {\\n    command_1.issue('error', message);\\n}\\nexports.error = error;\\n/**\\n * Adds an warning issue\\n * @param message warning issue message\\n */\\nfunction warning(message) {\\n    command_1.issue('warning', message);\\n}\\nexports.warning = warning;\\n/**\\n * Writes info to log with console.log.\\n * @param message info message\\n */\\nfunction info(message) {\\n    process.stdout.write(message + os.EOL);\\n}\\nexports.info = info;\\n/**\\n * Begin an output group.\\n *\\n * Output until the next `groupEnd` will be foldable in this group\\n *\\n * @param name The name of the output group\\n */\\nfunction startGroup(name) {\\n    command_1.issue('group', name);\\n}\\nexports.startGroup = startGroup;\\n/**\\n * End an output group.\\n */\\nfunction endGroup() {\\n    command_1.issue('endgroup');\\n}\\nexports.endGroup = endGroup;\\n/**\\n * Wrap an asynchronous function call in a group.\\n *\\n * Returns the same type as the function itself.\\n *\\n * @param name The name of the group\\n * @param fn The function to wrap in the group\\n */\\nfunction group(name, fn) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        startGroup(name);\\n        let result;\\n        try {\\n            result = yield fn();\\n        }\\n        finally {\\n            endGroup();\\n        }\\n        return result;\\n    });\\n}\\nexports.group = group;\\n//-----------------------------------------------------------------------\\n// Wrapper action state\\n//-----------------------------------------------------------------------\\n/**\\n * Saves state for current action, the state can only be retrieved by this action's post job execution.\\n *\\n * @param     name     name of the state to store\\n * @param     value    value to store\\n */\\nfunction saveState(name, value) {\\n    command_1.issueCommand('save-state', { name }, value);\\n}\\nexports.saveState = saveState;\\n/**\\n * Gets the value of an state set by this action's main execution.\\n *\\n * @param     name     name of the state to get\\n * @returns   string\\n */\\nfunction getState(name) {\\n    return process.env[`STATE_${name}`] || '';\\n}\\nexports.getState = getState;\\n//# sourceMappingURL=core.js.map\",\"module.exports = require(\\\"path\\\");\",\"module.exports = require(\\\"util\\\");\",\"\\\"use strict\\\";\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst fs_1 = require(\\\"fs\\\");\\nconst { readFile } = fs_1.promises;\\nlet config;\\nfunction readAvenConfig() {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        if (config === undefined) {\\n            const contents = yield readFile('aven.json');\\n            config = JSON.parse(contents.toString());\\n            if (!config.domains) {\\n                throw new Error('`domains` not defined in `aven.json`.');\\n            }\\n            if (!Array.isArray(config.domains)) {\\n                throw new Error('`domains` in `aven.json` is not an Array.');\\n            }\\n            if (config.domains.length < 1) {\\n                throw new Error('Need at least one domain defined');\\n            }\\n            // TODO: Sanitize object more...\\n        }\\n        return config;\\n    });\\n}\\nexports.readAvenConfig = readAvenConfig;\\n\",\"module.exports = require(\\\"fs\\\");\",\"\\\"use strict\\\";\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst fs_1 = require(\\\"fs\\\");\\nconst { readFile, writeFile, symlink, readlink, unlink } = fs_1.promises;\\nfunction ensureFileContains(filename, contents) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        const current = (yield readFile(filename).catch(() => '')).toString();\\n        if (current.includes(contents))\\n            return false;\\n        yield writeFile(filename, current + contents);\\n        return true;\\n    });\\n}\\nexports.ensureFileContains = ensureFileContains;\\nfunction ensureFileIs(filename, contents, mode) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        // We could just skip the read part of this but this preserves modification times\\n        const current = (yield readFile(filename).catch(() => '')).toString();\\n        if (current === contents)\\n            return false;\\n        yield writeFile(filename, contents, { mode });\\n        return true;\\n    });\\n}\\nexports.ensureFileIs = ensureFileIs;\\nfunction ensureFilesAre(list) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        yield Promise.all(list.map(({ filename, contents }) => ensureFileIs(filename, contents)));\\n    });\\n}\\nexports.ensureFilesAre = ensureFilesAre;\\nfunction ensureLinkIs(target, path) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        const current = yield readlink(path).catch(e => {\\n            if (e.code === 'ENOENT')\\n                return undefined;\\n            throw e;\\n        });\\n        if (target === current)\\n            return;\\n        if (current !== undefined)\\n            yield unlink(path);\\n        yield symlink(target, path);\\n    });\\n}\\nexports.ensureLinkIs = ensureLinkIs;\\n\",\"\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.isGitHubAction = process.env.GITHUB_ACTIONS === 'true';\\n\",\"\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nfunction reportError(e) {\\n    process.exitCode = 1;\\n    // TODO: Add colors for GH Actions\\n    console.log('Error in run!');\\n    console.log(e);\\n}\\nexports.reportError = reportError;\\n\",\"\\\"use strict\\\";\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nconst core_1 = require(\\\"@actions/core\\\");\\nconst isGitHubAction_1 = require(\\\"./isGitHubAction\\\");\\nfunction input(name) {\\n    return __awaiter(this, void 0, void 0, function* () {\\n        if (!isGitHubAction_1.isGitHubAction) {\\n            throw new Error('Not made to work in other environments yet!');\\n            // TODO: iff not otherwise read from local config, cli arguments, or prompt the dev?\\n        }\\n        return core_1.getInput(name);\\n    });\\n}\\nexports.input = input;\\n\",\"__webpack_require__.nmd = function(module) {\\n\\tmodule.paths = [];\\n\\tif (!module.children) module.children = [];\\n\\tObject.defineProperty(module, 'loaded', {\\n\\t\\tenumerable: true,\\n\\t\\tget: function() { return module.l; }\\n\\t});\\n\\tObject.defineProperty(module, 'id', {\\n\\t\\tenumerable: true,\\n\\t\\tget: function() { return module.i; }\\n\\t});\\n\\treturn module;\\n};\"]}"